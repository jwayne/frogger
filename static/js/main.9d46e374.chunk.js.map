{"version":3,"sources":["assets/frog.png","assets/dead2.png","types.ts","store.ts","constants.ts","App.tsx","serviceWorker.js","index.tsx"],"names":["module","exports","LaneType","ActionType","laneTypes","GRASS","WATER","ROAD","initLaneObjects","length","minGap","maxGap","colors","laneObjects","x","_","random","id","push","color","sample","initLane","laneType","tag","secsToCross","Error","speed","direction","initFrog","numLanes","lane","getCurrentLaneObjectPositions","laneState","time","loopLength","displacement","map","laneObject","checkIsAlive","state","isAlive","lanes","frog","objectPositions","frogPos","objectLength","pos","App","style","display","alignItems","justifyContent","height","GameWithRedux","React","Component","Game","tick","document","addEventListener","this","props","onKeyDown","setInterval","onTick","undefined","clearInterval","gameHeight","frogSize","initialFrog","width","backgroundColor","overflow","position","onMouseDown","e","preventDefault","y","startX","startY","i","key","connect","left","dispatch","type","KEY_DOWN","TICK","tickAmount","Frog","start","moveX","moveY","update","timing","delay","duration","data","transform","top","zIndex","src","require","alt","opacity","Lane","children","padding","MovingLane","Boolean","window","location","hostname","match","store","createStore","action","initState","newState","reduceTickEvent","frogState","reduceKeyboardEvent","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9d46e374.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/frog.d0763e0d.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjE4QjU2ODkzRDAzMTFFNDlEODZDOUEyQzI0OUU3ODQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjE4QjU2OEEzRDAzMTFFNDlEODZDOUEyQzI0OUU3ODQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MThCNTY4NzNEMDMxMUU0OUQ4NkM5QTJDMjQ5RTc4NCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MThCNTY4ODNEMDMxMUU0OUQ4NkM5QTJDMjQ5RTc4NCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvxUQD4AAAhxSURBVHja7N1RctMw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\"","/* redux states */\n\nexport type FrogState = {\n  /** Horizontal position of frog as # pixels to the frog's left boundary */\n  x: number;\n  /** Vertical position of frog in as lane number, from top (0) to bottom */\n  lane: number;\n  /** Direction frog is facing, in css degrees */\n  direction: number;\n};\n\nexport enum LaneType {\n  GRASS,\n  ROAD,\n  WATER\n}\n\nexport type StaticLaneState = {\n  tag: \"static\";\n  laneType: LaneType;\n};\n\nexport type LaneObjectState = {\n  /** Left coordinate of object */\n  x: number;\n  /** Id of object, for referencing */\n  id: number;\n  /** Color of object */\n  color: string;\n};\n\nexport type MovingLaneState = {\n  tag: \"moving\";\n  laneType: LaneType;\n\n  /** speed of objects in lane, in num pixels to move per ms */\n  speed: number;\n  /** direction of objects in lane. -1 = left, 1 = right */\n  direction: number;\n  /** length of objects in lane, in pixels */\n  length: number;\n  /** min gap between objects in lane, in pixels */\n  minGap: number;\n  /** max gap between objects in lane, in pixels */\n  maxGap: number;\n\n  laneObjects: LaneObjectState[];\n};\n\nexport type LaneState = StaticLaneState | MovingLaneState;\n\nexport type ReducerState = {\n  frog: FrogState;\n  lanes: LaneState[];\n  /** Number of millis that have passed since game start. */\n  time: number;\n  /** Whether the frog is still alive. */\n  isAlive: boolean;\n};\n\n/* redux actions */\n\nexport enum ActionType {\n  KEY_DOWN,\n  TICK\n}\n\nexport type KeyboardEventAction = {\n  type: ActionType.KEY_DOWN;\n  key: string;\n};\n\nexport type TickEventAction = {\n  type: ActionType.TICK;\n  tickAmount: number;\n};\n\nexport type ReducerAction = KeyboardEventAction | TickEventAction;\n","import { Reducer } from \"redux\";\nimport _ from \"lodash\";\nimport { frogSize, gameWidth } from \"./constants\";\nimport {\n  LaneType,\n  LaneObjectState,\n  LaneState,\n  ReducerState,\n  MovingLaneState,\n  KeyboardEventAction,\n  TickEventAction,\n  ReducerAction,\n  ActionType,\n  FrogState\n} from \"./types\";\n\n/* State initializers */\n\nconst sideStepSize = frogSize;\nconst laneTypes: LaneType[] = [\n  LaneType.GRASS,\n  LaneType.WATER,\n  LaneType.WATER,\n  LaneType.WATER,\n  LaneType.WATER,\n  LaneType.WATER,\n  LaneType.GRASS,\n  LaneType.ROAD,\n  LaneType.ROAD,\n  LaneType.ROAD,\n  LaneType.ROAD,\n  LaneType.ROAD,\n  LaneType.GRASS\n];\nconst laneObjectsApproxLoopLength = 3 * gameWidth;\n\n/** Initialize lane objects given the lane's properties */\nconst initLaneObjects = (\n  length: number,\n  minGap: number,\n  maxGap: number,\n  colors: string[]\n): LaneObjectState[] => {\n  let laneObjects = [];\n  let x = _.random(minGap, maxGap);\n  let id = 0;\n  while (x < laneObjectsApproxLoopLength) {\n    laneObjects.push({\n      x: x,\n      id: id++,\n      color: _.sample(colors) || \"black\" // TODO how to handle situations like this?\n    });\n    x += length + _.random(minGap, maxGap);\n  }\n  return laneObjects;\n};\n\n/** Initialize a lane for the given type */\nconst initLane = (laneType: LaneType): LaneState => {\n  if (laneType === LaneType.GRASS) {\n    return {\n      tag: \"static\",\n      laneType: LaneType.GRASS\n    };\n  }\n\n  let secsToCross, speed, direction, length, minGap, maxGap, colors;\n  switch (laneType) {\n    case LaneType.ROAD:\n      secsToCross = _.random(2, 8, true);\n      length = secsToCross < 6 ? 60 : 120;\n      colors = [\"white\", \"#000\", \"#333\", \"red\", \"beige\", \"lightBlue\"];\n      break;\n    case LaneType.WATER:\n      secsToCross = _.random(5, 8, true);\n      length = _.random(120, 240, true);\n      colors = [\"#654321\", \"#654321\", \"#003300\"];\n      break;\n    default:\n      throw new Error(\"shouldn't get here\");\n  }\n  speed = gameWidth / (secsToCross * 1000);\n  direction = _.random(0, 1) * 2 - 1;\n  minGap = secsToCross < 6 ? 120 : 180;\n  maxGap = secsToCross < 6 ? 480 : 240;\n\n  return {\n    tag: \"moving\",\n    laneType: laneType,\n    speed: speed,\n    direction: direction,\n    length: length,\n    minGap: minGap,\n    maxGap: maxGap,\n    laneObjects: initLaneObjects(length, minGap, maxGap, colors)\n  };\n};\n\nexport const initFrog = (numLanes: number): FrogState => {\n  return {\n    x: (gameWidth - frogSize) / 2,\n    lane: numLanes - 1,\n    direction: 0\n  };\n};\n\nexport const initState = (): ReducerState => {\n  let lanes = laneTypes.map(initLane);\n  return {\n    frog: initFrog(lanes.length),\n    lanes: lanes,\n    time: 0,\n    isAlive: true\n  };\n};\n\n/* reducers */\n\nexport const getCurrentLaneObjectPositions = (\n  laneState: MovingLaneState,\n  time: number\n): number[] => {\n  let laneObjects = laneState.laneObjects;\n  let loopLength = laneObjects[laneObjects.length - 1].x + laneState.length;\n  let displacement = laneState.speed * time;\n\n  if (laneState.direction < 0) {\n    // moving left\n    return laneObjects.map(laneObject => {\n      return 2 * gameWidth - ((laneObject.x + displacement) % loopLength);\n    });\n  } else {\n    // moving right\n    return laneObjects.map(laneObject => {\n      return -gameWidth + ((laneObject.x + displacement) % loopLength);\n    });\n  }\n};\n\nconst checkIsAlive = (state: ReducerState): boolean => {\n  if (!state.isAlive) {\n    return false;\n  }\n\n  let laneState = state.lanes[state.frog.lane];\n  if (laneState.tag === \"static\") {\n    return true;\n  } else {\n    let objectPositions = getCurrentLaneObjectPositions(laneState, state.time);\n    let frogPos = state.frog.x;\n    let objectLength = laneState.length;\n\n    // iterate through all lane objects in the frog's lane, checking for overlap\n    switch (laneState.laneType) {\n      case LaneType.ROAD:\n        for (let pos of objectPositions) {\n          if (frogPos + frogSize > pos && frogPos < pos + objectLength) {\n            return false;\n          }\n        }\n        return true;\n      case LaneType.WATER:\n        for (let pos of objectPositions) {\n          if (frogPos + frogSize > pos && frogPos < pos + objectLength) {\n            return true;\n          }\n        }\n        return false;\n      default:\n        throw new Error(\"shouldn't get here\");\n    }\n  }\n};\n\nconst reduceKeyboardEvent = (\n  state: ReducerState,\n  action: KeyboardEventAction\n): ReducerState => {\n  if (!state.isAlive) {\n    return state;\n  }\n\n  if (\n    action.key !== \"ArrowUp\" &&\n    action.key !== \"ArrowDown\" &&\n    action.key !== \"ArrowLeft\" &&\n    action.key !== \"ArrowRight\"\n  ) {\n    return state;\n  }\n\n  // move frog\n  let frogState = { ...state.frog };\n  let newState = { ...state, frog: frogState };\n  switch (action.key) {\n    case \"ArrowUp\":\n      frogState.lane--;\n      frogState.direction = 0;\n      break;\n    case \"ArrowDown\":\n      frogState.lane++;\n      frogState.direction = 180;\n      break;\n    case \"ArrowLeft\":\n      frogState.x -= sideStepSize;\n      frogState.direction = 270;\n      break;\n    case \"ArrowRight\":\n      frogState.x += sideStepSize;\n      frogState.direction = 90;\n      break;\n    default:\n      throw new Error(\"shouldn't get here\");\n  }\n  // check death\n  newState.isAlive = checkIsAlive(newState);\n  return newState;\n};\n\nconst reduceTickEvent = (\n  state: ReducerState,\n  action: TickEventAction\n): ReducerState => {\n  let newState = { ...state };\n\n  // advance time\n  newState.time = state.time + action.tickAmount;\n\n  // update frog position (if necessary)\n  let laneState = state.lanes[state.frog.lane];\n  if (laneState.tag === \"moving\" && laneState.laneType === LaneType.WATER) {\n    newState.frog = {\n      ...state.frog,\n      x:\n        state.frog.x + laneState.speed * action.tickAmount * laneState.direction\n    };\n  }\n  // check death\n  newState.isAlive = checkIsAlive(newState);\n\n  return newState;\n};\n\nexport const rootReducer: Reducer<ReducerState, ReducerAction> = (\n  state: ReducerState | undefined,\n  action: ReducerAction\n): ReducerState => {\n  if (!state) {\n    return initState();\n  }\n\n  switch (action.type) {\n    case ActionType.TICK:\n      return reduceTickEvent(state, action);\n    case ActionType.KEY_DOWN:\n      return reduceKeyboardEvent(state, action);\n  }\n};\n","export const gameWidth = 800;\nexport const frogSize = 54;","import React, { FunctionComponent } from \"react\";\nimport { Animate } from \"react-move\";\nimport { Dispatch } from \"redux\";\nimport { connect } from \"react-redux\";\nimport \"./App.css\";\nimport { frogSize, gameWidth } from \"./constants\";\nimport { LaneType, ReducerState, ActionType, ReducerAction } from \"./types\";\nimport { getCurrentLaneObjectPositions, initFrog } from \"./store\";\n\nexport class App extends React.Component {\n  render() {\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          height: \"100vh\"\n        }}\n      >\n        <GameWithRedux />\n      </div>\n    );\n  }\n}\n\nconst lanePadding = 3;\nconst laneHeight = frogSize + lanePadding;\nconst refreshInterval = 20; // 20ms refresh = 50 fps\n\ninterface GameProps {\n  frog: {\n    /** Horizontal position of frog as # pixels to the frog's left boundary */\n    x: number;\n    /** Vertical position of frog in as lane number, from top (0) to bottom */\n    lane: number;\n    /** Direction frog is facing, in css degrees */\n    direction: number;\n  };\n  lanes: {\n    laneType: LaneType;\n    laneObjects?: {\n      left: number;\n      length: number;\n      color: string;\n      id: number;\n    }[];\n  }[];\n  /** Number of millis that have passed since game start. */\n  time: number;\n  /** Whether the frog is still alive. */\n  isAlive: boolean;\n  onKeyDown: (e: KeyboardEvent) => void;\n  onTick: () => void;\n}\n\nclass Game extends React.Component<GameProps, {}> {\n  private tick: undefined | ReturnType<typeof setTimeout>;\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.props.onKeyDown);\n    this.tick = setInterval(this.props.onTick, refreshInterval);\n  }\n\n  componentWillUnmount() {\n    if (this.tick !== undefined) {\n      clearInterval(this.tick);\n    }\n  }\n\n  render() {\n    let numLanes = this.props.lanes.length;\n    let gameHeight = laneHeight * numLanes;\n    let initialFrog = initFrog(numLanes);\n\n    return (\n      <div\n        style={{\n          width: gameWidth,\n          height: gameHeight,\n          backgroundColor: \"lightGrey\",\n          overflow: \"hidden\",\n          position: \"relative\"\n        }}\n        onMouseDown={e => {\n          e.preventDefault();\n        }}\n      >\n        <Frog\n          x={this.props.frog.x}\n          y={this.props.frog.lane * laneHeight + lanePadding}\n          isAlive={this.props.isAlive}\n          direction={this.props.frog.direction}\n          startX={initialFrog.x}\n          startY={initialFrog.lane * laneHeight + lanePadding}\n        />\n        {this.props.lanes.map((lane, i) => {\n          switch (lane.laneType) {\n            case LaneType.GRASS:\n              return <Lane key={i + 1} color=\"green\" />;\n            case LaneType.ROAD:\n              if (lane.laneObjects === undefined) throw new Error(\"asdf\");\n              return (\n                <MovingLane\n                  key={i + 1}\n                  color=\"grey\"\n                  laneObjects={lane.laneObjects}\n                />\n              );\n            case LaneType.WATER:\n              if (lane.laneObjects === undefined) throw new Error(\"asdf\");\n              return (\n                <MovingLane\n                  key={i + 1}\n                  color=\"blue\"\n                  laneObjects={lane.laneObjects}\n                />\n              );\n            default:\n              throw new Error(\"shouldn't get here\");\n          }\n        })}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: ReducerState) => ({\n  frog: {\n    x: state.frog.x,\n    lane: state.frog.lane,\n    direction: state.frog.direction\n  },\n  lanes: state.lanes.map(laneState => {\n    if (laneState.tag === \"static\") {\n      return {\n        laneType: laneState.laneType\n      };\n    } else {\n      let objectPositions = getCurrentLaneObjectPositions(\n        laneState,\n        state.time\n      );\n      return {\n        laneType: laneState.laneType,\n        laneObjects: laneState.laneObjects.map((laneObject, i) => ({\n          left: objectPositions[i],\n          length: laneState.length,\n          color: laneObject.color,\n          id: laneObject.id\n        }))\n      };\n    }\n  }),\n  time: state.time,\n  isAlive: state.isAlive\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<ReducerAction>) => ({\n  onKeyDown: (e: KeyboardEvent) => {\n    dispatch({ type: ActionType.KEY_DOWN, key: e.key });\n  },\n  onTick: () => {\n    dispatch({ type: ActionType.TICK, tickAmount: refreshInterval });\n  }\n});\n\nconst GameWithRedux = connect(mapStateToProps, mapDispatchToProps)(Game);\n\ninterface FrogProps {\n  x: number;\n  y: number;\n  direction: number;\n  isAlive: boolean;\n  startX: number;\n  startY: number;\n}\n\nconst Frog: FunctionComponent<FrogProps> = ({\n  x,\n  y,\n  direction,\n  isAlive,\n  startX,\n  startY\n}) => (\n  <Animate\n    start={{\n      moveX: 0,\n      moveY: 0\n    }}\n    update={{\n      moveX: [x - startX],\n      moveY: [y - startY],\n      timing: {\n        delay: 0,\n        duration: 75\n      }\n    }}\n  >\n    {data => (\n      <div\n        style={{\n          transform: `translate(${data.moveX}px, ${data.moveY}px)`,\n          position: \"absolute\",\n          left: startX,\n          top: startY,\n          width: frogSize,\n          height: frogSize,\n          zIndex: 2\n        }}\n      >\n        <img\n          src={require(\"./assets/frog.png\")}\n          alt=\"frog\"\n          style={{\n            transform: `rotate(${direction}deg)`,\n            width: frogSize,\n            height: frogSize\n          }}\n        />\n        {isAlive || (\n          <img\n            src={require(\"./assets/dead2.png\")}\n            alt=\"dead\"\n            style={{\n              position: \"absolute\",\n              top: 0,\n              left: 0,\n              width: frogSize,\n              height: frogSize,\n              opacity: data.opacity\n            }}\n          />\n        )}\n      </div>\n    )}\n  </Animate>\n);\n\ninterface LaneProps {\n  color: string;\n}\n\nconst Lane: FunctionComponent<LaneProps> = ({ color, children }) => {\n  return (\n    <div\n      style={{\n        height: laneHeight,\n        width: \"100%\",\n        padding: `${lanePadding} 0`,\n        backgroundColor: color,\n        overflow: \"hidden\",\n        position: \"relative\"\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\ninterface MovingLaneProps {\n  color: string;\n  laneObjects: {\n    left: number;\n    length: number;\n    color: string;\n    id: number;\n  }[];\n}\n\nconst MovingLane: FunctionComponent<MovingLaneProps> = ({\n  color,\n  laneObjects\n}) => (\n  <Lane color={color}>\n    {laneObjects.map(laneObject => (\n      <div\n        style={{\n          position: \"absolute\",\n          left: laneObject.left,\n          width: laneObject.length,\n          height: frogSize - lanePadding * 2,\n          backgroundColor: laneObject.color,\n          zIndex: 1\n        }}\n        key={laneObject.id}\n      ></div>\n    ))}\n  </Lane>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore } from \"redux\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { rootReducer } from \"./store\";\n\nlet store = createStore(rootReducer);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}